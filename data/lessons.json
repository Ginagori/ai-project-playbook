{
  "lessons": [
    {
      "id": "df8c2437-66bf-4400-b3da-81d573b1a22a",
      "category": "architecture",
      "title": "Controlled Tabs for State Persistence",
      "description": "In a React application with tabbed interfaces (using shadcn/ui Tabs component), when users perform CRUD operations within a tab, the page would return to the default tab instead of staying on the current tab. This happened because the Tabs component was using `defaultValue` (uncontrolled) instead of `value` with `onValueChange` (controlled).",
      "context": "Manually added lesson",
      "recommendation": "Always use controlled Tabs when the tab content has forms or operations that modify state: `<Tabs value={activeTab} onValueChange={setActiveTab}>` instead of `<Tabs defaultValue=\"tab1\">`. This ensures the tab position is preserved after save operations, modal closures, or data refreshes.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 1,
      "downvotes": 1,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "react",
        "shadcn",
        "tabs",
        "ux",
        "state-management"
      ],
      "created_at": "2026-01-09T03:31:45.279344",
      "updated_at": "2026-02-21T00:17:18.058563"
    },
    {
      "id": "8a24dc22-1db1-4127-9276-4b6950f66689",
      "category": "pitfall",
      "title": "Supabase Nested Relations Return Arrays",
      "description": "When fetching related data in Supabase using the select syntax with nested relations (e.g., `empleado:empleados(nombre)`), Supabase sometimes returns the nested object as an array instead of a single object, depending on the relationship type and query structure. This caused issues when accessing properties like `perfil.empleado.nombre` which would fail when empleado was actually `[{nombre: \"...\"}]`.",
      "context": "Manually added lesson",
      "recommendation": "Always create a helper function to safely handle Supabase nested data: `const getData = (obj: any) => Array.isArray(obj) ? obj[0] : obj;` Then use it when accessing nested relations: `const empleadoData = getData(perfil.empleado);`. This handles both array and object responses gracefully.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "postgresql-supabase",
        "react-vite"
      ],
      "tags": [
        "supabase",
        "typescript",
        "data-fetching",
        "relations"
      ],
      "created_at": "2026-01-09T03:31:45.428127",
      "updated_at": "2026-01-09T03:31:45.428127"
    },
    {
      "id": "dc5c23db-f076-426c-b3c9-94dcd2b446b8",
      "category": "architecture",
      "title": "Instructor Dropdown from User Profiles",
      "description": "In a training management system, we needed to select instructors when creating/editing training courses. Instead of having a separate instructors table, instructors were users with role='instructor' in perfiles_usuario table, linked to empleados table for their names and with email stored in a JSONB configuracion_personal field.",
      "context": "Manually added lesson",
      "recommendation": "When building role-based dropdowns from user profiles with complex joins, fetch the data with explicit relation syntax and transform it in the frontend: Query with `.select('id, empleado:empleados(nombre), configuracion_personal').eq('rol', 'instructor')`, then map to a clean interface `{id, nombre, email}`. Store the instructor info in a JSONB field (like firmas_requeridas) rather than a foreign key if the instructor data needs to be preserved as a snapshot at the time of creation.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "postgresql-supabase"
      ],
      "tags": [
        "supabase",
        "rbac",
        "dropdown",
        "user-roles",
        "jsonb"
      ],
      "created_at": "2026-01-09T03:31:45.546984",
      "updated_at": "2026-01-09T03:31:45.546984"
    },
    {
      "id": "cbc392b8-50d8-4b22-9849-73597f8f4bb8",
      "category": "workflow",
      "title": "i18n Implementation Should Be Planned Early",
      "description": "Midway through a project, the client requested that changing the app language from Spanish to Portuguese should translate the entire application. We started implementing a full i18n system with LanguageContext, translation files, and useLanguage hooks, but the client aborted the feature when they realized the scope of changes required (every text string in every component needed to use the translation function).",
      "context": "Manually added lesson",
      "recommendation": "Internationalization (i18n) should be decided and implemented from the project start, not added later. If multi-language is a potential requirement, set up the i18n infrastructure early (react-i18next or similar) and use translation keys from day one. Retrofitting i18n is expensive and disruptive. When clients request it mid-project, clearly communicate the scope: every hardcoded string must be replaced, which affects all components.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "i18n",
        "planning",
        "scope",
        "client-communication"
      ],
      "created_at": "2026-01-09T03:31:45.664567",
      "updated_at": "2026-01-09T03:31:45.664567"
    },
    {
      "id": "9246f435-36b2-44ba-947e-0bfb82e6cada",
      "category": "architecture",
      "title": "Edit Forms Should Track Original vs Changed Fields",
      "description": "In an employee edit form, the system was sending all fields to the database on every save, even unchanged ones. This caused issues with audit logs, unnecessary database writes, and potential race conditions. Users also couldn't tell what they had actually changed.",
      "context": "Manually added lesson",
      "recommendation": "For edit forms, store both `formData` and `originalData` states. Create a `getChangedFields()` function that compares them and returns only modified fields. Before saving: 1) Check if any fields changed, 2) Show \"No changes detected\" if nothing changed, 3) Only send changed fields to the API. Also show users feedback like \"2 campos modificados\" to confirm what was updated.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "forms",
        "crud",
        "ux",
        "optimization",
        "react"
      ],
      "created_at": "2026-01-09T03:31:45.809064",
      "updated_at": "2026-01-09T03:31:45.809064"
    },
    {
      "id": "c524996e-d407-4caf-a1c4-f7679bf89cf1",
      "category": "pitfall",
      "title": "Supabase Error Codes for Constraint Violations",
      "description": "When implementing CRUD operations for categories that could be referenced by other tables (capacitaciones), we needed to handle database constraint violations gracefully. Supabase/PostgreSQL returns specific error codes: 23505 for unique constraint violations (duplicate entries) and 23503 for foreign key violations (trying to delete a referenced record).",
      "context": "Manually added lesson",
      "recommendation": "Always handle these PostgreSQL error codes in your CRUD operations: `if (error.code === '23505')` for duplicates (show \"Ya existe un registro con ese nombre\"), `if (error.code === '23503')` for FK violations (show \"No se puede eliminar, está siendo usado por otros registros\"). This provides user-friendly error messages instead of generic database errors.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "postgresql-supabase"
      ],
      "tags": [
        "supabase",
        "postgresql",
        "error-handling",
        "crud",
        "constraints"
      ],
      "created_at": "2026-01-09T03:31:45.950287",
      "updated_at": "2026-01-09T03:31:45.950287"
    },
    {
      "id": "50bd221c-3a02-4b69-a597-b220b5dc4480",
      "category": "tooling",
      "title": "Password Change via Supabase Auth",
      "description": "Instructors needed the ability to change their temporary passwords. Supabase Auth provides a simple method for logged-in users to update their own password without requiring the current password (useful for temporary password scenarios).",
      "context": "Manually added lesson",
      "recommendation": "Use `supabase.auth.updateUser({ password: newPassword })` for authenticated users to change their password. This doesn't require the old password, making it ideal for temporary password flows. Always validate: minimum length (6+ chars), password confirmation match. Provide show/hide password toggles for better UX. Reset the form and close the modal on success.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "postgresql-supabase"
      ],
      "tags": [
        "supabase",
        "authentication",
        "password",
        "security"
      ],
      "created_at": "2026-01-09T03:31:46.099841",
      "updated_at": "2026-01-09T03:31:46.099841"
    },
    {
      "id": "7d98a0f3-84bb-4fe7-8922-765d9e1066cc",
      "category": "architecture",
      "title": "Configuration Page Architecture Pattern",
      "description": "Built a comprehensive configuration page for a training management system with multiple concerns: user management (CRUD for instructors/admins), system settings (validity periods, company info), alert thresholds, and category management. All in one page with tabs.",
      "context": "Manually added lesson",
      "recommendation": "For admin configuration pages, use a tabbed interface to organize related settings: 1) Users tab - user CRUD with role-based creation, 2) System tab - key-value settings stored in a configuracion_sistema table, plus entity management (categories), 3) Alerts tab - threshold configurations. Use a single \"Save Changes\" button in the header for system settings, but immediate save for entity CRUD (users, categories). Store system config as key-value pairs in DB for flexibility.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "admin",
        "configuration",
        "tabs",
        "crud",
        "settings"
      ],
      "created_at": "2026-01-09T03:31:46.216475",
      "updated_at": "2026-01-09T03:31:46.216475"
    },
    {
      "id": "e46da59f-3bb7-4dc6-8fcf-62bc91104a26",
      "category": "workflow",
      "title": "Estructura de Propuesta Comercial Pre-Venta",
      "description": "Se desarrolló un proceso estructurado para generar propuestas comerciales a partir de reuniones exploratorias con clientes. El flujo incluye: 1) Transcripción de reunión exploratoria, 2) Documento de Requerimientos Funcionales (detalle interno con IDs, prioridades Alta/Media/Baja, módulos separados), 3) Propuesta Técnica (stack, arquitectura, fases de desarrollo, sin mencionar uso interno de IA), 4) Propuesta Económica (monto total sin desglose por módulo, plan de pagos DTaaS cuando el presupuesto del cliente es limitado), 5) Propuesta Comercial Final consolidada para el cliente. Importante: los costos variables (dominio, correos) no se inventan, se indica \"según proveedor\".",
      "context": "Manually added lesson",
      "recommendation": "Para pre-ventas futuras seguir esta estructura de 5 documentos: 01-requerimientos-funcionales.md (interno, detallado), 02-propuesta-tecnica.md (stack y arquitectura), 03-propuesta-economica.md (interno, con proyecciones), PROPUESTA-COMERCIAL-[CLIENTE].md (para el cliente, consolidado). Usar esquema Anticipo + DTaaS cuando el cliente tiene presupuesto limitado pero fondos iniciales. No desglosar costos por módulo al cliente. Convertir a .docx con pandoc para entrega final.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "pre-venta",
        "propuesta-comercial",
        "dtaas",
        "cliente",
        "documentacion"
      ],
      "created_at": "2026-01-10T03:44:35.406054",
      "updated_at": "2026-01-10T03:44:35.406054"
    },
    {
      "id": "28add822-45a5-49c0-bf49-9492891762f3",
      "category": "architecture",
      "title": "CLI Agent con Sistema de Diseño Embebido",
      "description": "Para crear un agente de generación de UI tipo Lovable, es crítico embeber todo el conocimiento de diseño (visual hierarchy, spacing, color systems, UI patterns, accessibility) directamente en el system prompt del agente. Esto permite que usuarios no técnicos obtengan resultados profesionales.",
      "context": "Manually added lesson",
      "recommendation": "Crear un módulo de prompts separado (ej: design-system.ts) que contenga: 1) Principios de diseño (8pt grid, color theory, typography scale), 2) Patrones UI comunes con código, 3) Reglas de accesibilidad, 4) Snippets de componentes listos. Importar y componer en el system prompt del agente.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "CLI",
        "UI generation",
        "design system",
        "prompts",
        "Lovable"
      ],
      "created_at": "2026-01-17T03:25:04.114430",
      "updated_at": "2026-01-17T03:25:04.114430"
    },
    {
      "id": "bb711625-12f7-47ee-a4fb-9660b8389dc7",
      "category": "tooling",
      "title": "MCP Server Global Installation Pattern",
      "description": "When building an MCP server that needs to be installed globally and shared across teams, the key is to configure package.json with a \"bin\" field pointing to the compiled JS file, add a shebang (#!/usr/bin/env node) to the entry point, and use npm link for global availability. This allows the command to be invoked from anywhere without needing to be in the project directory.",
      "context": "Manually added lesson",
      "recommendation": "For shareable MCP servers: 1) Add \"bin\" field in package.json mapping command name to dist/server.js, 2) Add shebang to TypeScript source, 3) Create install scripts for both Windows (.ps1) and Unix (.sh), 4) Use npm link after build to make globally available. Document the setup in SETUP.md for team members.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "mcp",
        "npm",
        "global-install",
        "cli",
        "sharing"
      ],
      "created_at": "2026-01-17T04:17:17.227297",
      "updated_at": "2026-01-17T04:17:17.227297"
    },
    {
      "id": "629055dc-4a99-4580-926d-3b5635ce04c5",
      "category": "architecture",
      "title": "Agent Integration via Shared Context Files",
      "description": "Two independent agents (Playbook and UI Agent) were integrated by having one agent generate context files (CLAUDE.md, PRD.md, session.json) that the other agent automatically detects and reads. This creates a loose coupling where agents don't need direct communication - they communicate through the filesystem. The UI Agent checks for these files on startup and adjusts its behavior accordingly.",
      "context": "Manually added lesson",
      "recommendation": "For multi-agent integration: 1) Define a clear contract of files one agent produces (CLAUDE.md for rules, PRD.md for requirements), 2) Have the consuming agent auto-detect these files in the project directory, 3) Extract relevant context (tech stack, conventions) and inject into prompts, 4) Show user feedback when context is detected (\"ℹ Playbook context detected\"). This pattern enables agents to work together without tight coupling.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "multi_agent"
      ],
      "tech_stacks": [],
      "tags": [
        "integration",
        "multi-agent",
        "context-sharing",
        "loose-coupling",
        "filesystem"
      ],
      "created_at": "2026-01-17T04:17:25.717404",
      "updated_at": "2026-01-17T04:17:25.717404"
    },
    {
      "id": "6fb3f290-695a-4951-8762-f0324ec3abde",
      "category": "workflow",
      "title": "Bidirectional Documentation for Agent Ecosystems",
      "description": "When integrating two agents, documentation must be updated in BOTH repositories pointing to each other. This includes: README.md (user-facing), CLAUDE.md (agent-facing), and setup guides. Each repo should explain how to use the other agent and link to its repository. This creates discoverability from either direction.",
      "context": "Manually added lesson",
      "recommendation": "When integrating agents: 1) Update both READMEs with integration section, 2) Update both CLAUDE.md files so agents know about each other, 3) Include installation instructions for the partner agent, 4) Add GitHub links in both directions, 5) Commit and push to both repos. Users discovering either agent will learn about the integration.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "multi_agent"
      ],
      "tech_stacks": [],
      "tags": [
        "documentation",
        "integration",
        "readme",
        "bidirectional",
        "discoverability"
      ],
      "created_at": "2026-01-17T04:17:33.622026",
      "updated_at": "2026-01-17T04:17:33.622026"
    },
    {
      "id": "78f3a8af-c1ea-4b90-8dbc-f7c8d61d2feb",
      "category": "workflow",
      "title": "Claude MAX Subscription Simplifies Setup",
      "description": "Teams using Claude MAX subscription don't need to configure ANTHROPIC_API_KEY for agents that work within Claude Code. This significantly simplifies onboarding - no API key management, no .env files for API keys, no billing concerns per team member. The agent just works through Claude Code's existing authentication.",
      "context": "Manually added lesson",
      "recommendation": "For teams with Claude MAX: 1) Remove API key setup steps from documentation, 2) Don't require .env files for Anthropic credentials, 3) Simplify SETUP.md to just installation + MCP configuration, 4) Mention \"Con suscripción MAX no necesitas configurar API keys\" explicitly. This reduces friction for team adoption.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "claude-max",
        "api-key",
        "onboarding",
        "simplification",
        "team"
      ],
      "created_at": "2026-01-17T04:17:41.315035",
      "updated_at": "2026-01-17T04:17:41.315035"
    },
    {
      "id": "478c2106-dfeb-4f3b-8a36-9c92bd25a5d0",
      "category": "tech_stack",
      "title": "TypeScript Unused Variables Pattern with Underscore",
      "description": "TypeScript's strict mode flags unused variables as errors. When a variable must exist (e.g., destructured parameter) but isn't used, prefix it with underscore (_config, _componentType). This tells TypeScript the variable is intentionally unused while maintaining the function signature.",
      "context": "Manually added lesson",
      "recommendation": "For unused but required variables in TypeScript: 1) Prefix with underscore: _unusedVar, 2) If the variable might be used later, add a method that references it (like isConfigured() for _config), 3) This is cleaner than @ts-ignore comments, 4) Works for destructured parameters: ({ used, unused: _unused }) => {}",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "api"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "typescript",
        "unused-variables",
        "underscore",
        "strict-mode",
        "best-practice"
      ],
      "created_at": "2026-01-17T04:17:50.915269",
      "updated_at": "2026-01-17T04:17:50.915269"
    },
    {
      "id": "b5deab33-1898-4779-9df9-edbca682565f",
      "category": "pitfall",
      "title": "Windows Git Reserved Filename Workaround",
      "description": "Windows has reserved filenames (nul, con, aux, etc.) that Git cannot handle. If a file named 'nul' appears in the repo, 'git add -A' will fail with \"invalid path 'nul'\". This can happen accidentally in Windows environments.",
      "context": "Manually added lesson",
      "recommendation": "When encountering \"invalid path 'nul'\" error: 1) Don't use 'git add -A' or 'git add .', 2) Instead, add specific files/folders: 'git add folder1 folder2 file.txt', 3) The 'nul' file cannot be deleted normally in Windows - may need special commands, 4) Add 'nul' to .gitignore to prevent future issues.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "api"
      ],
      "tech_stacks": [],
      "tags": [
        "git",
        "windows",
        "reserved-filename",
        "nul",
        "workaround"
      ],
      "created_at": "2026-01-17T04:17:58.784368",
      "updated_at": "2026-01-17T04:17:58.784368"
    },
    {
      "id": "757f8106-8b75-4800-a1a9-9070fd511b43",
      "category": "tooling",
      "title": "MCP Server Registration in Claude Code",
      "description": "Claude Code stores MCP server configurations in ~/.claude.json under the \"mcpServers\" key. Each server needs: command (path to executable), args (array of arguments), and optionally cwd (working directory) or env (environment variables). After editing, Claude Code must be restarted to detect new servers.",
      "context": "Manually added lesson",
      "recommendation": "To add MCP server to Claude Code: 1) Option A: 'claude mcp add server-name --command \"command --args\"', 2) Option B: Edit ~/.claude.json manually in mcpServers section, 3) For global npm commands, use full path on Windows (C:\\\\Users\\\\user\\\\AppData\\\\Roaming\\\\npm\\\\command.cmd), 4) Always restart Claude Code after changes, 5) Verify in \"Manage MCP Servers\" panel shows \"connected\".",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "mcp",
        "claude-code",
        "configuration",
        "registration",
        "setup"
      ],
      "created_at": "2026-01-17T04:18:06.743542",
      "updated_at": "2026-01-17T04:18:06.743542"
    },
    {
      "id": "32e44811-3801-43b8-92b2-a943b037d844",
      "category": "architecture",
      "title": "Factory Pattern for Agent Creation with Context",
      "description": "Instead of directly instantiating an agent class, use a factory function (createAgent) that loads context before returning the agent. This allows automatic detection of project context (CLAUDE.md, PRD.md) without changing the calling code. The factory function encapsulates all initialization logic.",
      "context": "Manually added lesson",
      "recommendation": "For agents that need context: 1) Create async factory function: createAgent(options) that returns Promise<Agent>, 2) Inside factory, detect and load context files, 3) Call agent.setContext() before returning, 4) Replace all 'new Agent()' calls with 'await createAgent()', 5) This centralizes context loading and makes it automatic for all commands (chat, generate, modify, etc.).",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "factory-pattern",
        "agent",
        "context",
        "initialization",
        "design-pattern"
      ],
      "created_at": "2026-01-17T04:18:14.513605",
      "updated_at": "2026-01-17T04:18:14.513605"
    },
    {
      "id": "e07191cf-1067-4c8c-9daf-090fec5670ea",
      "category": "workflow",
      "title": "Búsquedas deben ser insensibles a acentos",
      "description": "En aplicaciones en español, los usuarios buscan sin tildes (ej: \"acido\" en lugar de \"Ácido\", \"clinica\" en lugar de \"Clínica\"). Las búsquedas que solo usan toLowerCase() fallan al no encontrar coincidencias.",
      "context": "Manually added lesson",
      "recommendation": "Siempre implementar normalización de texto en búsquedas usando: text.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, ''). Esto elimina tildes y diacríticos permitiendo búsquedas flexibles.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "search",
        "spanish",
        "i18n",
        "ux",
        "forms"
      ],
      "created_at": "2026-01-19T02:18:26.248130",
      "updated_at": "2026-01-19T02:18:26.248130"
    },
    {
      "id": "06a61c68-0769-4503-b88a-7f524893877a",
      "category": "architecture",
      "title": "Filtros de tabla deben usar grid, no flexbox",
      "description": "Usar flex-1 para campos de búsqueda y anchos fijos para selects causa desbordamiento cuando los nombres son largos. Los SelectContent se desbordan del contenedor.",
      "context": "Manually added lesson",
      "recommendation": "Usar grid con distribución controlada: grid-cols-1 sm:grid-cols-2 lg:grid-cols-4. Búsqueda ocupa 2 columnas (sm:col-span-2), filtros 1 columna cada uno. Agregar max-h-[300px] a SelectContent para limitar altura del dropdown.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "layout",
        "grid",
        "filters",
        "tables",
        "responsive"
      ],
      "created_at": "2026-01-19T02:18:26.406545",
      "updated_at": "2026-01-19T02:18:26.406545"
    },
    {
      "id": "8c1d2086-6e38-4c9e-b27b-c53ea389e819",
      "category": "workflow",
      "title": "Campos obligatorios deben validarse antes de envío",
      "description": "En formularios donde un campo es crítico para el negocio (ej: cliente en salidas de inventario), permitir envío sin ese campo causa datos incompletos.",
      "context": "Manually added lesson",
      "recommendation": "1) Agregar validación explícita en handleSubmit con mensaje de error claro. 2) Marcar el label con asterisco (*). 3) Remover opciones como \"Sin cliente específico\" si el campo es obligatorio.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "forms",
        "validation",
        "required-fields"
      ],
      "created_at": "2026-01-19T02:18:26.537047",
      "updated_at": "2026-01-19T02:18:26.537047"
    },
    {
      "id": "9aa97ad2-b9b5-48bb-be5d-a088e0aa3577",
      "category": "architecture",
      "title": "Páginas de detalle deben agrupar información relacionada",
      "description": "Crear múltiples cards pequeñas para cada campo (ej: una card solo para \"Responsable\") desperdicia espacio y fragmenta la información. El usuario debe scrollear innecesariamente.",
      "context": "Manually added lesson",
      "recommendation": "Agrupar información relacionada en 2-3 secciones principales usando grids internos. Ej: \"Información de la Salida\" (producto, cantidad, fecha, costo, responsable) y \"Cliente/Ubicación\" (nombre, ubicación, contacto). Usar grid-cols-2 o grid-cols-3 dentro de cada card.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "detail-pages",
        "layout",
        "cards",
        "information-architecture"
      ],
      "created_at": "2026-01-19T02:18:26.708559",
      "updated_at": "2026-01-19T02:18:26.708559"
    },
    {
      "id": "14699383-307f-410a-9e92-4dba5bed5202",
      "category": "workflow",
      "title": "Eliminar campos no utilizados de la base de datos y UI",
      "description": "Mantener campos como \"tipo_trabajo\" que ya no son relevantes para el negocio confunde al usuario y ocupa espacio innecesario en formularios y tablas.",
      "context": "Manually added lesson",
      "recommendation": "Cuando un campo deja de ser relevante: 1) Eliminar de la UI (formularios, tablas, páginas de detalle). 2) Eliminar columna de la BD con ALTER TABLE DROP COLUMN. 3) Actualizar tipos TypeScript. 4) Remover imports de constantes relacionadas.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "ui",
        "database",
        "cleanup",
        "maintenance"
      ],
      "created_at": "2026-01-19T02:18:26.856819",
      "updated_at": "2026-01-19T02:18:26.856819"
    },
    {
      "id": "87e19c21-09e0-487b-ba6e-1187a32311a7",
      "category": "architecture",
      "title": "Costos de salida deben calcularse con precio promedio ponderado",
      "description": "En sistemas de inventario, las salidas necesitan un costo asociado para reportes financieros. Sin cálculo automático, el usuario debe ingresar manualmente o el dato queda vacío.",
      "context": "Manually added lesson",
      "recommendation": "Implementar cálculo automático de costo usando precio_promedio del producto: costo_total = cantidad * precio_promedio. Mostrar el costo calculado en tiempo real en el formulario. Guardar tanto costo_unitario como costo_total en la BD.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "inventory",
        "pricing",
        "calculations",
        "forms"
      ],
      "created_at": "2026-01-19T02:18:27.187709",
      "updated_at": "2026-01-19T02:18:27.187709"
    },
    {
      "id": "b8e27396-646e-422c-8bf5-baf2ab96e17d",
      "category": "workflow",
      "title": "Alineación de columnas en tablas debe ser consistente",
      "description": "Columnas con datos numéricos o de acciones alineadas a la izquierda dificultan la lectura y comparación de valores.",
      "context": "Manually added lesson",
      "recommendation": "Alinear al centro: Fecha, Cantidad, Costo, Responsable, Acciones. Alinear a la izquierda: Producto, Cliente/Proveedor (textos largos). Usar clases text-center en TableHead y TableCell correspondientes.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "tables",
        "alignment",
        "consistency"
      ],
      "created_at": "2026-01-19T02:18:27.474944",
      "updated_at": "2026-01-19T02:18:27.474944"
    },
    {
      "id": "90abbc1e-2ac6-42db-8812-5f335e8cd195",
      "category": "workflow",
      "title": "Capitalización automática de nombres propios",
      "description": "Usuarios ingresan nombres en mayúsculas (JUAN PEREZ) o minúsculas (juan perez), causando inconsistencia en la base de datos y reportes.",
      "context": "Manually added lesson",
      "recommendation": "Implementar función toTitleCase que capitalice primera letra de cada palabra. Aplicar al guardar en BD: nombre: toTitleCase(editNombre.trim()). Manejar excepciones como \"de\", \"del\", \"la\" que deben permanecer en minúsculas.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "forms",
        "data-quality",
        "capitalization"
      ],
      "created_at": "2026-01-19T02:18:27.761007",
      "updated_at": "2026-01-19T02:18:27.761007"
    },
    {
      "id": "84da19b2-e6d8-4832-b916-c829dad1dca7",
      "category": "architecture",
      "title": "Selects de proveedores deben filtrar por producto",
      "description": "Mostrar todos los proveedores del sistema cuando el usuario selecciona un producto es confuso. Solo deben aparecer los proveedores asociados a ese producto específico.",
      "context": "Manually added lesson",
      "recommendation": "1) Cargar proveedores dinámicamente cuando cambia el producto usando useEffect. 2) Consultar tabla productos_proveedores filtrada por producto_id. 3) Pre-seleccionar el proveedor principal (es_principal=true). 4) Mostrar precio del proveedor junto al nombre.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "forms",
        "relationships",
        "dynamic-loading"
      ],
      "created_at": "2026-01-19T02:18:28.072748",
      "updated_at": "2026-01-19T02:18:28.072748"
    },
    {
      "id": "58db03f6-490a-427c-ab07-8e024a0eaa3a",
      "category": "workflow",
      "title": "Placeholders de búsqueda deben ser cortos",
      "description": "Placeholders largos como \"Buscar por producto, cliente, responsable o remisión...\" se truncan en móvil y ocupan espacio visual innecesario.",
      "context": "Manually added lesson",
      "recommendation": "Usar placeholder simple: \"Buscar...\" El usuario descubrirá qué campos son buscables al usar la función. Si es necesario aclarar, usar un tooltip o texto de ayuda debajo del campo.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "search",
        "placeholders",
        "mobile",
        "ux"
      ],
      "created_at": "2026-01-19T02:18:28.316209",
      "updated_at": "2026-01-19T02:18:28.316209"
    },
    {
      "id": "5052da52-367e-4ed4-ae73-78a6ad75948d",
      "category": "architecture",
      "title": "Patrón Sobrio para Cards de Estadísticas",
      "description": "Al diseñar dashboards con múltiples cards de estadísticas, usar colores neutros por defecto (bg-muted) con colores vivos solo al hacer hover crea una interfaz más limpia y profesional. Los colores fijos se reservan para valores semánticamente importantes (ej: verde para ventas/ingresos, rojo para costos).",
      "context": "Manually added lesson",
      "recommendation": "Implementar patrón sobrio con Tailwind: className=\"group\" en Card, bg-muted group-hover:bg-{color}-100 en el icono container, text-muted-foreground group-hover:text-{color}-600 en iconos y valores. Usar colores fijos solo para métricas que siempre representan lo mismo (ingresos=verde, costos=rojo).",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "ui",
        "ux",
        "tailwind",
        "cards",
        "hover",
        "design-pattern"
      ],
      "created_at": "2026-01-21T02:30:47.383707",
      "updated_at": "2026-01-21T02:30:47.383707"
    },
    {
      "id": "e03eb7cf-0beb-406e-8622-77e9f9c8d43b",
      "category": "tooling",
      "title": "XLSX vs CSV para Exportación de Reportes",
      "description": "Los usuarios prefieren Excel (.xlsx) sobre CSV porque: 1) Mantiene formato de columnas con anchos configurables, 2) Soporta múltiples hojas en un archivo, 3) Mejor manejo de caracteres especiales y acentos, 4) Compatible directamente con Excel sin necesidad de importar.",
      "context": "Manually added lesson",
      "recommendation": "Usar librería 'xlsx' para exportación. Configurar worksheet['!cols'] con anchos apropiados para cada columna. Nombrar archivos con fecha ISO (reporte_YYYY-MM-DD.xlsx). Incluir fila de totales cuando aplique.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "excel",
        "export",
        "xlsx",
        "reports",
        "ux"
      ],
      "created_at": "2026-01-21T02:30:47.682356",
      "updated_at": "2026-01-21T02:30:47.682356"
    },
    {
      "id": "64987912-e188-4564-ab65-78933f1355c3",
      "category": "architecture",
      "title": "Layout Flexible para Filtros de Reportes",
      "description": "En reportes con múltiples filtros, el campo de búsqueda debe ser flexible (flex-1 min-w-[280px]) mientras que los selectores deben tener ancho fijo (w-[180px]) para mantener consistencia visual y evitar que el layout salte al cambiar valores.",
      "context": "Manually added lesson",
      "recommendation": "Usar flex flex-wrap items-center gap-4 como contenedor. Input de búsqueda con flex-1 min-w-[280px]. Selects con ancho fijo w-[180px]. Botón de exportar/acción al final. Esto asegura que el layout funcione en desktop y mobile.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "ui",
        "layout",
        "filters",
        "responsive",
        "flexbox"
      ],
      "created_at": "2026-01-21T02:30:47.904942",
      "updated_at": "2026-01-21T02:30:47.904942"
    },
    {
      "id": "04c7e956-2705-48ba-90e5-e90d39ef32fa",
      "category": "architecture",
      "title": "SYSTEM_PROMPT: Un paso por mensaje",
      "description": "Al construir un agente conversacional con flujo de multiples pasos (ej: agendamiento), el LLM tiende a combinar varios pasos en una sola respuesta, saltandose etapas importantes como validacion de datos o consentimiento.",
      "context": "Manually added lesson",
      "recommendation": "Ser EXTREMADAMENTE explicito en el SYSTEM_PROMPT: usar REGLA FUNDAMENTAL: UN SOLO PASO POR MENSAJE. NUNCA combines pasos. Definir cada paso con CONDICION de activacion y RESPUESTA OBLIGATORIA exacta. Incluir ejemplos CORRECTOS e INCORRECTOS.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "llm",
        "system-prompt",
        "conversational-agent",
        "customer-service"
      ],
      "created_at": "2026-01-28T03:16:12.124845",
      "updated_at": "2026-01-28T03:16:12.124845"
    },
    {
      "id": "dc8a86db-d5b6-40d5-9f77-2dd644122a53",
      "category": "architecture",
      "title": "Escucha activa en agentes conversacionales",
      "description": "El LLM preguntaba informacion que el usuario ya habia proporcionado en mensajes anteriores. Por ejemplo, el usuario decia 'Soy abogada con despacho de 3 personas' y Tana respondia 'Cuentame, que tipo de negocio tienes?'",
      "context": "Manually added lesson",
      "recommendation": "Agregar regla explicita de ESCUCHA ACTIVA en el SYSTEM_PROMPT: ANTES de responder, LEE el mensaje del usuario e IDENTIFICA: 1) Su profesion o tipo de negocio, 2) Los problemas ESPECIFICOS que menciona. Incluir ejemplo INCORRECTO (NUNCA HAGAS ESTO) con caso real.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "llm",
        "active-listening",
        "ux",
        "conversational-agent"
      ],
      "created_at": "2026-01-28T03:16:12.208609",
      "updated_at": "2026-01-28T03:16:12.208609"
    },
    {
      "id": "360feb46-0ea7-4380-bba2-f5c4f1c4fe68",
      "category": "pitfall",
      "title": "Evitar placeholders literales en respuestas LLM",
      "description": "El LLM mostraba placeholders como [Dia 1], [Hora 1] literalmente en sus respuestas en lugar de usar fechas reales o ejemplos concretos.",
      "context": "Manually added lesson",
      "recommendation": "Agregar REGLA DE PLACEHOLDERS explicita: NUNCA escribas [Dia 1], [Hora 1] ni ningun placeholder con corchetes. Si no tienes fechas reales, usa ejemplos como 'martes 28 de enero'. Inyectar contexto real del calendario en el prompt cuando sea posible.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "llm",
        "placeholders",
        "system-prompt",
        "ux"
      ],
      "created_at": "2026-01-28T03:16:12.281356",
      "updated_at": "2026-01-28T03:16:12.281356"
    },
    {
      "id": "d6e687d7-3101-4b94-9a99-f91aed28d297",
      "category": "tech_stack",
      "title": "Microsoft Graph: Enviar invitaciones de calendario",
      "description": "Al crear eventos en Outlook via Microsoft Graph API, las invitaciones no se enviaban automaticamente a los asistentes externos. El evento se creaba correctamente pero el correo de invitacion nunca llegaba.",
      "context": "Manually added lesson",
      "recommendation": "Agregar dos parametros clave al crear eventos: 1) responseRequested: true en el body del evento, 2) params={'sendUpdates': 'all'} en el query string del POST. Ejemplo: client.post(url, json=event_data, params={'sendUpdates': 'all'})",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "microsoft-graph",
        "outlook",
        "calendar",
        "api-integration"
      ],
      "created_at": "2026-01-28T03:16:12.346141",
      "updated_at": "2026-01-28T03:16:12.346141"
    },
    {
      "id": "df2a6401-6f89-47e1-a3e6-814a2a02eca5",
      "category": "pitfall",
      "title": "CORS: Revisar .env ademas del codigo",
      "description": "El frontend no podia conectarse al backend FastAPI. Las peticiones OPTIONS retornaban 400 Bad Request. El codigo en config.py tenia origenes correctos pero el archivo .env sobreescribia la configuracion sin incluir el puerto de desarrollo.",
      "context": "Manually added lesson",
      "recommendation": "Al debuggear CORS, SIEMPRE revisar: 1) El codigo de configuracion, 2) El archivo .env que puede sobreescribir valores. Asegurar que CORS_ORIGINS en .env incluya TODOS los puertos de desarrollo (3000, 3001, 3002) y dominios de produccion.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "api"
      ],
      "tech_stacks": [
        "fastapi"
      ],
      "tags": [
        "cors",
        "fastapi",
        "debugging",
        "environment-variables"
      ],
      "created_at": "2026-01-28T03:16:12.415907",
      "updated_at": "2026-01-28T03:16:12.415907"
    },
    {
      "id": "432645ac-82ee-4910-8df5-ef890abfac68",
      "category": "workflow",
      "title": "Flujo de agendamiento optimo para agentes comerciales",
      "description": "Disenar el flujo de agendamiento de reuniones requiere un balance entre eficiencia y compliance. No se debe ofrecer fechas inmediatamente, sino seguir un flujo estructurado que incluya consentimiento de datos.",
      "context": "Manually added lesson",
      "recommendation": "Flujo de 5 pasos: 1) Proponer reunion sin fechas, esperar SI. 2) Pedir aceptacion de politica de datos con link, esperar 'acepto'. 3) Ofrecer 2 dias concretos. Si rechaza, ofrecer 2 mas. Si sigue rechazando, preguntar abiertamente. 4) Ofrecer 3 horarios del dia elegido. 5) Capturar nombre, email, empresa. 6) Confirmar y crear evento.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "scheduling",
        "sales-agent",
        "gdpr",
        "compliance",
        "ux"
      ],
      "created_at": "2026-01-28T03:16:12.474815",
      "updated_at": "2026-01-28T03:16:12.474815"
    },
    {
      "id": "710ba612-eb02-4273-8f84-2eb9bcfb1392",
      "category": "architecture",
      "title": "Monorepo con Next.js: separar landing y dashboard",
      "description": "El proyecto necesitaba dos frontends: landing publica (nivanta.ai) y dashboard privado (dashboard.nivanta.ai). Inicialmente se considero un solo proyecto con rutas protegidas, pero esto complicaba el deploy y la seguridad.",
      "context": "Manually added lesson",
      "recommendation": "Usar monorepo con carpetas separadas: web/ para landing publica y dashboard/ para panel admin. Cada uno tiene su propio package.json y configuracion. Netlify soporta esto con configuracion por sitio apuntando al mismo repo pero diferente base directory. Mantiene el codigo organizado y permite deploys independientes.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "nextjs"
      ],
      "tags": [
        "nextjs",
        "monorepo",
        "netlify",
        "deployment",
        "frontend"
      ],
      "created_at": "2026-01-28T03:25:01.161377",
      "updated_at": "2026-01-28T03:25:01.161377"
    },
    {
      "id": "8e23ab9b-346d-465f-969a-ec305733f498",
      "category": "tech_stack",
      "title": "OpenRouter para flexibilidad de modelos LLM",
      "description": "Al construir agentes IA, es tentador usar directamente la API de un proveedor (OpenAI, Anthropic). Pero esto crea dependencia y dificulta cambiar de modelo si hay problemas de costo, disponibilidad o calidad.",
      "context": "Manually added lesson",
      "recommendation": "Usar OpenRouter como capa de abstraccion. Permite cambiar entre Claude, GPT-4, Llama, etc. con solo cambiar una variable de entorno (DEFAULT_MODEL). El codigo permanece identico. Configurar: OPENROUTER_API_KEY, OPENROUTER_BASE_URL, DEFAULT_MODEL (ej: anthropic/claude-sonnet-4).",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "openrouter",
        "llm",
        "ai",
        "flexibility",
        "api"
      ],
      "created_at": "2026-01-28T03:25:01.235582",
      "updated_at": "2026-01-28T03:25:01.235582"
    },
    {
      "id": "3e1a0521-3e2b-4318-b633-77f3943cdc39",
      "category": "tech_stack",
      "title": "Supabase para MVP rapido: Auth + DB + Realtime",
      "description": "Construir autenticacion, base de datos y APIs desde cero consume mucho tiempo en MVPs. Para un proyecto con dashboard admin, leads, y conversaciones, se necesitaba una solucion rapida y escalable.",
      "context": "Manually added lesson",
      "recommendation": "Usar Supabase como backend-as-a-service: 1) Auth integrado con Next.js middleware para proteger rutas, 2) PostgreSQL para datos estructurados (conversations, messages, leads, insights), 3) Row Level Security para multi-tenancy, 4) Realtime opcional para actualizaciones en vivo. Separar SUPABASE_ANON_KEY (frontend) de SUPABASE_SERVICE_KEY (backend).",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "nextjs",
        "postgresql-supabase"
      ],
      "tags": [
        "supabase",
        "postgresql",
        "auth",
        "baas",
        "mvp"
      ],
      "created_at": "2026-01-28T03:25:01.291425",
      "updated_at": "2026-01-28T03:25:01.291425"
    },
    {
      "id": "e8115e92-4d3e-481b-837b-cfaadd2e9b41",
      "category": "architecture",
      "title": "Sistema de aprendizaje: extraer insights de conversaciones",
      "description": "Las conversaciones con usuarios contienen informacion valiosa (industria, pain points, objeciones) que se pierde si solo se guarda el texto plano. Se necesitaba un sistema para aprender automaticamente de cada interaccion.",
      "context": "Manually added lesson",
      "recommendation": "Implementar pipeline de extraccion: 1) Guardar conversaciones en DB (conversations + messages tables), 2) Crear tabla conversation_insights con campos estructurados (industry, business_type, pain_points[], objections[], interest_level), 3) Usar LLM para analizar conversaciones con 4+ mensajes y extraer insights en JSON, 4) Crear endpoints API para estadisticas (/insights/stats, /pain-points, /objections, /by-industry), 5) Visualizar en dashboard para mejorar el agente.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "analytics",
        "insights",
        "learning",
        "nlp",
        "dashboard"
      ],
      "created_at": "2026-01-28T03:25:01.361274",
      "updated_at": "2026-01-28T03:25:01.361274"
    },
    {
      "id": "0dd0cc1e-21a0-492b-a76e-075c055037e6",
      "category": "architecture",
      "title": "Chat widget flotante: una sola instancia global",
      "description": "Al implementar un chat widget en una landing page, inicialmente se creo el componente en cada seccion que lo necesitaba. Esto causaba multiples instancias, estados desincronizados, y problemas de UX.",
      "context": "Manually added lesson",
      "recommendation": "Crear UNA sola instancia del chat widget a nivel de layout o pagina principal. Usar estado global o contexto para controlar apertura/cierre. Los botones CTA en diferentes secciones solo deben disparar la apertura del chat existente, no crear nuevas instancias. Opcionalmente, pasar un mensaje inicial al abrir (autoSendMessage prop) para contextualizar la conversacion.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "chat-widget",
        "react",
        "state-management",
        "ux",
        "frontend"
      ],
      "created_at": "2026-01-28T03:25:01.432734",
      "updated_at": "2026-01-28T03:25:01.432734"
    },
    {
      "id": "ff79b567-614f-4348-af1c-2ce273d81416",
      "category": "tech_stack",
      "title": "FastAPI + uv para backend Python moderno",
      "description": "Para el backend de agentes IA se necesitaba un framework Python async, facil de desarrollar, con buena documentacion automatica de APIs. pip era lento para instalar dependencias.",
      "context": "Manually added lesson",
      "recommendation": "Usar FastAPI con estructura modular: api/src/agents/ para logica de agentes, api/src/services/ para integraciones externas, api/src/api/routes/ para endpoints. Usar 'uv' como package manager (10-100x mas rapido que pip). Comando de desarrollo: uv run uvicorn src.main:app --reload. Swagger docs automatico en /docs. Type hints obligatorios en todas las funciones.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "api"
      ],
      "tech_stacks": [
        "fastapi"
      ],
      "tags": [
        "fastapi",
        "python",
        "uv",
        "backend",
        "async"
      ],
      "created_at": "2026-01-28T03:25:01.495852",
      "updated_at": "2026-01-28T03:25:01.495852"
    },
    {
      "id": "f25188ae-1481-4925-bcd9-cd6c099dd3ca",
      "category": "workflow",
      "title": "Design system con Tailwind: paleta de marca consistente",
      "description": "Al disenar una web de marca, los colores hex se repetian en multiples archivos y era facil usar tonos inconsistentes. Los desarrolladores usaban teal-500, teal-600 sin saber cual era el color oficial de la marca.",
      "context": "Manually added lesson",
      "recommendation": "Definir colores de marca en tailwind.config.js como variables semanticas: nivanta-primary (#0C5469), nivanta-secondary (#0A9A97), nivanta-gray (#696969). Documentar en CLAUDE.md o design-system.md el uso de cada color. Usar siempre las variables semanticas (bg-nivanta-primary) en vez de colores genericos (bg-teal-600). Incluir tipografia (Montserrat) y espaciado consistente.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "react-vite"
      ],
      "tags": [
        "tailwind",
        "design-system",
        "branding",
        "css",
        "frontend"
      ],
      "created_at": "2026-01-28T03:25:25.617573",
      "updated_at": "2026-01-28T03:25:25.617573"
    },
    {
      "id": "f4dd39f1-73ba-42db-970e-ca3e93ee48fd",
      "category": "workflow",
      "title": "CLAUDE.md como fuente de verdad del proyecto",
      "description": "Al trabajar con asistentes IA (Claude Code, Cursor, etc.), cada sesion requeria re-explicar la arquitectura, convenciones, y decisiones del proyecto. Esto consumia tiempo y causaba inconsistencias.",
      "context": "Manually added lesson",
      "recommendation": "Crear CLAUDE.md en la raiz del proyecto con: 1) Descripcion y objetivos, 2) Stack tecnologico, 3) Arquitectura de carpetas, 4) Variables de entorno requeridas, 5) Comandos de desarrollo, 6) Convenciones de codigo, 7) Instrucciones de deploy. Mantenerlo actualizado con cada feature nueva. El asistente IA lo lee automaticamente y tiene contexto completo del proyecto.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "documentation",
        "ai-assistant",
        "developer-experience",
        "onboarding"
      ],
      "created_at": "2026-01-28T03:25:25.685722",
      "updated_at": "2026-01-28T03:25:25.685722"
    },
    {
      "id": "004a0228-5f40-4dd8-86df-77028eca08e9",
      "category": "deployment",
      "title": "Deploy monorepo: Netlify para frontends, Railway para API",
      "description": "Desplegar un monorepo con multiples frontends (Next.js) y un backend (FastAPI) requeria configuracion especifica. Vercel tenia limitaciones con monorepos y Railway necesitaba root directory explicito.",
      "context": "Manually added lesson",
      "recommendation": "Configuracion optima: 1) Netlify para frontends - crear 2 sitios apuntando al mismo repo, cada uno con diferente base directory (web/ y dashboard/). 2) Railway para backend - especificar Root Directory: api y Start command: uvicorn src.main:app --host 0.0.0.0 --port $PORT. 3) Orden de deploy: primero API, luego frontends. 4) Actualizar NEXT_PUBLIC_API_URL en frontends para apuntar a URL de produccion de API.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "fastapi",
        "nextjs"
      ],
      "tags": [
        "netlify",
        "railway",
        "deployment",
        "monorepo",
        "devops"
      ],
      "created_at": "2026-01-28T03:25:25.762596",
      "updated_at": "2026-01-28T03:25:25.762596"
    },
    {
      "id": "719ef005-702e-4c7a-a538-406bb81cba6e",
      "category": "architecture",
      "title": "Middleware de Next.js para proteger rutas del dashboard",
      "description": "El dashboard admin necesitaba proteccion de rutas pero implementar verificacion de sesion en cada pagina era repetitivo y propenso a errores. Algunas paginas quedaban accidentalmente desprotegidas.",
      "context": "Manually added lesson",
      "recommendation": "Usar middleware.ts en la raiz del proyecto dashboard. Verificar sesion de Supabase antes de cada request a rutas protegidas. Redirigir a /login si no hay sesion valida. Excluir rutas publicas (login, assets). Ejemplo: export const config = { matcher: ['/((?!login|_next/static|favicon.ico).*)'] }. Esto garantiza proteccion consistente sin modificar cada pagina.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "nextjs",
        "postgresql-supabase"
      ],
      "tags": [
        "nextjs",
        "middleware",
        "auth",
        "security",
        "supabase"
      ],
      "created_at": "2026-01-28T03:25:25.832989",
      "updated_at": "2026-01-28T03:25:25.832989"
    },
    {
      "id": "b5af7472-ba92-4b01-8f76-0ee67b4c1609",
      "category": "pitfall",
      "title": "Microsoft Teams link no funciona en Shared Mailbox",
      "description": "Al crear eventos de calendario con isOnlineMeeting=true en un Shared Mailbox de Microsoft 365, el campo onlineMeeting.joinUrl viene null porque los shared mailboxes no tienen licencia de Teams. Intentar usar la OnlineMeetings API directamente retorna 404 si el usuario nunca ha accedido a Teams.",
      "context": "Manually added lesson",
      "recommendation": "Usar patron de 2 pasos: 1) Crear evento en calendario PERSONAL del usuario con licencia Teams (isOnlineMeeting=true) para obtener el joinUrl, 2) Crear evento en SHARED MAILBOX con el Teams link incluido en el body HTML. Asi el email sale del shared mailbox pero el link de Teams funciona.",
      "confidence": 0.7,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "agent"
      ],
      "tech_stacks": [],
      "tags": [
        "microsoft-graph",
        "teams",
        "calendar",
        "shared-mailbox",
        "outlook",
        "scheduling"
      ],
      "created_at": "2026-01-28T23:22:33.265361",
      "updated_at": "2026-01-28T23:22:33.265361"
    },
    {
      "id": "80212a4b-a97b-42f3-8326-e86db4f5e901",
      "category": "tech_stack",
      "title": "Tech stack chosen: nextjs + fastapi + postgresql-supabase",
      "description": "Selected nextjs + fastapi + postgresql-supabase for platform project: Test auto-capture",
      "context": "Discovery phase for platform",
      "recommendation": "Consider nextjs + fastapi + postgresql-supabase for similar platform projects",
      "confidence": 0.65,
      "frequency": 2,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "platform"
      ],
      "tech_stacks": [
        "fastapi",
        "postgresql-supabase",
        "nextjs"
      ],
      "tags": [
        "discovery",
        "auto-captured",
        "tech-stack"
      ],
      "created_at": "2026-02-12T23:19:32.668210",
      "updated_at": "2026-02-19T22:45:15.089488"
    },
    {
      "id": "f8002834-88fa-4267-baa0-45096a85c9ab",
      "category": "tech_stack",
      "title": "Tech stack chosen: react-vite + fastapi + postgresql-supabase",
      "description": "Selected react-vite + fastapi + postgresql-supabase for saas project: CUMPLE SST - Plataforma SaaS de gestión de Seguridad y Salud en el Trabajo para ",
      "context": "Discovery phase for saas",
      "recommendation": "Consider react-vite + fastapi + postgresql-supabase for similar saas projects",
      "confidence": 0.8000000000000002,
      "frequency": 5,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [
        "fastapi",
        "react-vite",
        "postgresql-supabase"
      ],
      "tags": [
        "discovery",
        "auto-captured",
        "tech-stack"
      ],
      "created_at": "2026-02-13T04:26:48.419688",
      "updated_at": "2026-02-19T23:17:41.545436"
    },
    {
      "id": "7875db1c-2068-4000-8fff-1615f4af3e39",
      "category": "architecture",
      "title": "Architecture: Vertical Slice Architecture",
      "description": "Used Vertical Slice Architecture for saas project",
      "context": "Planning phase — architecture decision",
      "recommendation": "Vertical Slice Architecture works well for saas projects",
      "confidence": 0.8000000000000002,
      "frequency": 4,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "auto-captured",
        "planning",
        "architecture"
      ],
      "created_at": "2026-02-13T04:27:03.894712",
      "updated_at": "2026-02-19T23:17:41.553783"
    },
    {
      "id": "0a248160-9d64-46e7-b238-9af010ad9a2c",
      "category": "workflow",
      "title": "High-quality planning artifacts",
      "description": "CLAUDE.md (97%) and PRD (100%) scored well",
      "context": "Planning phase quality",
      "recommendation": "Maintain detailed CLAUDE.md and PRD for better outcomes",
      "confidence": 0.8500000000000001,
      "frequency": 4,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [],
      "tech_stacks": [],
      "tags": [
        "auto-captured",
        "quality",
        "workflow"
      ],
      "created_at": "2026-02-13T04:27:03.894712",
      "updated_at": "2026-02-19T23:17:41.558949"
    },
    {
      "id": "de315470-2398-4bf6-929e-3c254d0ace06",
      "category": "workflow",
      "title": "Roadmap: 7 features for saas",
      "description": "Broke down saas into 7 features: Project Setup, Authentication, Multi-Tenancy, Core Data Models, API Endpoints",
      "context": "Roadmap phase for saas",
      "recommendation": "A saas project typically needs 7 core features",
      "confidence": 0.6500000000000001,
      "frequency": 3,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "auto-captured",
        "roadmap",
        "features"
      ],
      "created_at": "2026-02-13T04:27:20.407902",
      "updated_at": "2026-02-18T20:10:19.957536"
    },
    {
      "id": "cc3064d9-d2d9-45a9-8c17-6b9892f946aa",
      "category": "workflow",
      "title": "Roadmap: 10 features for saas",
      "description": "Broke down saas into 10 features: Project Setup, Authentication, Multi-Tenancy, Core Data Models, Worker Registry",
      "context": "Roadmap phase for saas",
      "recommendation": "A saas project typically needs 10 core features",
      "confidence": 0.6000000000000001,
      "frequency": 2,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "saas"
      ],
      "tech_stacks": [],
      "tags": [
        "roadmap",
        "auto-captured",
        "features"
      ],
      "created_at": "2026-02-19T23:12:32.146991",
      "updated_at": "2026-02-19T23:17:41.563667"
    },
    {
      "id": "6955c726-0a2d-4cef-960d-732ab19964e6",
      "category": "workflow",
      "title": "Roadmap: 5 features for api",
      "description": "Broke down api into 5 features: Project Setup, Core Data Models, Authentication, API Endpoints, Testing",
      "context": "Roadmap phase for api",
      "recommendation": "A api project typically needs 5 core features",
      "confidence": 0.55,
      "frequency": 1,
      "upvotes": 0,
      "downvotes": 0,
      "project_types": [
        "api"
      ],
      "tech_stacks": [],
      "tags": [
        "roadmap",
        "features",
        "auto-captured"
      ],
      "created_at": "2026-02-19T23:12:32.151272",
      "updated_at": "2026-02-19T23:12:32.151272"
    }
  ],
  "outcomes": []
}